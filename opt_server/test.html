<!doctype html>
<html>
	<head>
		<title>Practice</title>
		<!-- <script src="camera.js"></script>  -->
	</head>
	<body>
		<video autoplay width="40" height="360"></video>
		<input type = "button" id="stopbt" value ="stop" />
		<script type="text/javascript">
			window.URL = window.URL || window.webkitURL;
			navigator.getUserMedia = 
				navigator.getUserMedia ||
				navigator.webkitGetUserMedia ||
				navigator.mozGetUserMedia ||
				navigator.msGetUserMedia;
			var video = document.querySelector('video');
			var cameraStream = '';
			if(navigator.getUserMedia)
			{
				navigator.getUserMedia(
						{audio: true, video: true},
						function(stream)
						{
							cameraStream = stream;
							video.src = window.URL.createObjectURL(stream);
						},
						function()
						{
							document.writeln("problem with accessing hardware!")
						}
				);
			}
			else
			{
				document.writeln("video capture is not supported");
			}
			document.querySelector('#stopbt').addEventListener(
					'click',
					function(e)
					{
						video.src = '';
						cameraStream.stop();
					});
		</script>
	</body>
</html>